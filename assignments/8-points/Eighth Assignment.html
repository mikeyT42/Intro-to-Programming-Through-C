<!DOCTYPE html>
<html>
  <head>

    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>Eighth Assignment</title>
  </head>
  <body>
    <div dir="ltr">
      <div dir="auto"><font size="4"><b><u>Introduction:</u></b></font>
        <div dir="auto"><br>
        </div>
        <div dir="auto">This is our first assignment where we will be
          using heap memory. This program will create points in space by
          gathering x and y values as input from the user. We will then
          build a string representation of our point and then output it.</div>
        <div dir="auto"><br>
        </div>
        <div><font size="4"><b><u>Structures:</u></b></font><br>
        </div>
        <div dir="auto"><br>
        </div>
        <div>Make a <span style="font-family:monospace">struct</span>
          to represent a <span style="font-family:monospace">point</span>.
          It will have 2 data members; an <span
            style="font-family:monospace">int</span> called <span
            style="font-family:monospace">x</span>, and an <span
            style="font-family:monospace">int</span> called <span
            style="font-family:monospace">y</span>.<br>
        </div>
        <div dir="auto"><br>
        </div>
      <div><font size="4"><b><u>Enumerations:</u></b></font><br>
      </div>
      <div><br>
      </div>
      <div>There will be two enumerations for this program: the first will be called
          <span style="font-family:monospace">loop_control</span>. This enumeration
          will represent the 2 states of our loop logic: one state being to
          <span style="font-family:monospace">CONTINUE</span> loop execution and the
          other state being to
          <span style="font-family:monospace">STOP</span> loop execution. These will be
          used in the do-while loop's condition.
      </div>
      <div><br>
      </div>The second enumeration will be to represent
          <span style="font-family:monospace">validaton_code</span>. The enumeration will have these
          values: <span style="font-family:monospace">OK</span> which will represent validation passing;
          <span style="font-family:monospace">NO_INPUT</span> which will represent end of user input;
          <span style="font-family:monospace">NOT_ENOUGH</span> this will represent when there is less
          than two numbers input; and finally <span style="font-family:monospace">INPUT_ERROR</span>.
      <div>
      </div>
      <div><br>
      </div>
        <div dir="auto"><font size="4"><b><u><span
                  style="font-family:monospace">main()</span>:</u></b></font></div>
        <div dir="auto"><br>
        </div>
        <div dir="auto">This function is going to operate exactly the
          same as our other programs. It will call the <span
            style="font-family:monospace">input_loop()</span> function
          and will output greeting and salutation banners.</div>
        <div dir="auto"><br>
        </div>
        <div dir="auto"><b><u><font size="4"><span
                  style="font-family:monospace">input_loop()</span>:</font></u></b></div>
        <div dir="auto"><b><u><br>
              </u></b></div>
        <div>This function will collect the input of two
            integers from the user. Use <span
              style="font-family:monospace">fgets()</span> to read into
            a string with a length of <span
              style="font-family:monospace">256</span>. Then, pass <span
              style="font-family:monospace">x</span> and <span
              style="font-family:monospace">y</span> as pointers to the <span
              style="font-family:monospace">validation()</span> function along with
          your input string. After calling the validation function, use the returned codes
          to print any needed errors. When any error occurs, return <span
              style="font-family:monospace">CONTINUE</span> after the appropriate message.<br>
        </div>
        <div><br>
        </div>
        <div>Then call <span
              style="font-family:monospace">create_point()</span>: if
            this function returns <span style="font-family:monospace">NULL</span>,
            then return <span style="font-family:monospace">STOP</span>;
            otherwise continue onwards. Call the <span
              style="font-family:monospace">to_string()</span> function:
            if this function returns <span
              style="font-family:monospace">NULL</span>, then return <span
              style="font-family:monospace">STOP</span> and handle any
            memory; otherwise continue onwards. Print the point string
            and then cleanup and return <span
              style="font-family:monospace">CONTINUE</span>.<br>
        </div>
        <div><br>
        </div>
        <div><font size="4"><b><u><span style="font-family:monospace">validate(char input[],
                            int *x, int *y)</span>:</u></b></font></div>
        <div><br>
        </div>
        <div>First check for the sentinel and return the <span style="font-family:monospace">NO_INPUT</span>
          code in that case. Then read the string using <span style="font-family:monospace">sscanf()</span>
          to read two integers from the <span style="font-family:monospace">input</span>
            into two variables <span style="font-family:monospace">x</span> and
            <span style="font-family:monospace">y</span>--in that order. If some error occurs, then return
            <span style="font-family:monospace">INPUT_ERROR</span>. If the number of matches is less than two,
            then return <span style="font-family:monospace">NOT_ENOUGH</span>. Finally, if all of that passes,
            then return <span style="font-family:monospace">OK</span>.
        </div>
        <div><br>
        </div>
        <div><font size="4"><b><u><span style="font-family:monospace">create_point(int
                  x, int y)</span>:</u></b></font></div>
        <div><br>
        </div>
        <div>Make these arguments as immutable as
            possible. This function will allocate on the heap a <span
              style="font-family:monospace">point</span>. Assign <span
              style="font-family:monospace">x</span> and <span
              style="font-family:monospace">y</span> to the structures
            respective members after it is allocated. Be sure in any
            error cases to handle them well and with error messages. Use
            <span style="font-family:monospace">fprintf()</span> and
            send the output to <span style="font-family:monospace">stderr</span>
            if there is an issue. Return the pointer to our allocated <span
              style="font-family:monospace">pointer</span>.</div>
        <div><br>
        </div>
        <div><font size="4"><b><u>to_string(point *point):</u></b></font></div>
        <div><br>
        </div>
        <div>Make this argument as immutable as possible.
            This function will utilize a <span
              style="font-family:monospace">char</span> array as a <span
              style="font-family:monospace">buffer</span>; its length
            will be 512 characters long. Use the <span
              style="font-family:monospace">snprintf()</span> function
            to write into our declared <span
              style="font-family:monospace">buffer</span>, up to its <span
              style="font-family:monospace">buffer_length</span>; then
            use a formatted string and our <span
              style="font-family:monospace">point</span> to write our
            formatted string with data into the <span
              style="font-family:monospace">buffer</span>. The output
            should look like this this:</div>
        <div><br>
        </div>
        <div><font style="font-family:monospace">point {</font></div>
        <div><font style="font-family:monospace">&nbsp; x = 2</font></div>
        <div><font style="font-family:monospace">&nbsp; y = 1<br>
          </font></div>
        <div><font style="font-family:monospace">}<br>
          </font></div>
        <div><br>
        </div>
        <div>Use width padding on the x and y string
            literals to give the padding on the left of 2 characters.
            Read some documentation on <span
              style="font-family:monospace">snprintf()</span>. If you
            need any help with this function let me know. If it was
            unsuccessful, then output an error using <span
              style="font-family:monospace">fprintf()</span>. Return <span
              style="font-family:monospace">NULL</span> if an error
            occurs.</div>
        <div><br>
        </div>
        <div>If successful, use the return value as the
            new string length we are going to use for our string
            allocation. If there was an error in allocation then print
            an error and return <span style="font-family:monospace">NULL</span>.
            If successful, then use <span style="font-family:monospace">strnlen()</span>
            to write our buffer into the heap allocated string and then
            return the pointer to our string.<br>
        </div>
        <div><br>
        </div>
        <div><b><font size="4"><u>Conclusion:</u></font></b></div>
        <div><br>
        </div>
        <div>That should be it to explain this program.
            If you have any questions feel free to ask. Please utilize
            any of your tools to help you work through this--including
            me.</div>
        <div><br>
        </div>
        <div>Good luck,</div>
        <div>~ Michael<br>
        </div>
      </div>
    </div>
  </body>
</html>
